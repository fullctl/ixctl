{% extends "common/app/base.html" %}
{% load static i18n %}
{% block "title" %}fullctl / ix{% endblock %}

{% block "js" %}
{{ block.super }}
<script src="{% static "ixctl/ixctl.js" %}" type="text/javascript"></script>
<script>
{% if select_ix %}
$(fullctl.application).on("initialized", function(e, ixctl, id) {
  ixctl.preselect_ix = {{ select_ix.id }};
});
{% endif %}
</script>
{% endblock %}

{% block "css" %}
{{ block.super }}
{% endblock %}

{% block "header_right" %}
{% with app_id="ixctl" %}
{{ block.super }}
{% endwith %}
{% endblock %}


{% block "app_content_toolbar" %}

<div class="row">
  <div class="col-6 col-md-8">
    <div class="toolbar-control-group">


      <span class="inline-label">{% trans "Exchange:" %}</span>
      <span class="toolbar-control">
        <img class="caret" src="{% static "common/icons/ui-caret-caret/down.svg" %}">
      <select
        data-api-load="yes"
        data-api-base="{% url "ixctl_api:ix-list" org_tag=request.org.slug %}"
        data-element="select_ix"></select>
      </span>

    </div>

    <!-- ix tools: manage selected ix -->
    <div class="ix-mgmt">

      <!-- button: configure currently select ix -->
      <button type="button" class="button mt-3" style="display:none;" data-element="button_update_ix">
        <span class="icon ixctl icon-settings"></span>
        {% trans "Configure" %}
      </button>

      <!-- button: delete currently selected ix -->
      <button type="button btn-danger" class="button mt-3" style="display:none;" data-element="button_delete_ix">
        <span class="icon ixctl icon-delete"></span>
        {% trans "Delete" %}
      </button>



    </div>


  </div>

  <!-- ix tools: create ix, import ix -->

  <!-- button: create ix -->

  <div class="col-6 col-md-4 right">
      <button type="button" class="button" style="display:none" data-element="button_create_ix">
      <span class="icon ixctl icon-add"></span>
      {% trans "Create" %}</button>
      <button type="button" class="button" style="display:none" data-element="button_import_ix">
      <span class="icon ixctl icon-add"></span>
      {% trans "Import" %}</button>
  </div>
</div>

{% endblock %}

{% block "app_content_menu" %}
<div class="menu-deco-border"></div>
{% endblock %}

{% block "app_content_main" %}

{% include "ixctl/tool/routeservers/main.html" %}
{% include "ixctl/tool/members/main.html" %}

{% endblock %}

{% block "templates" %}
{{ block.super }}
{% include "ixctl/form-import.html" %}
{% include "ixctl/form-create-ix.html" %}
{% include "ixctl/form-update-ix.html" %}
{% include "ixctl/form-delete-ix.html" %}

{% endblock %}
